import{d as y,Q as F,p as i,f as g,r as d,o as A,b as w,w as l,e as a,j as u,m as k,P as h}from"./index.13f10a8a.js";import{a as C}from"./advert.58331348.js";import{A as B}from"./AdverImageEdit.dbcc1a8f.js";import{_ as E,A as x}from"./AdverCreatDetaii.9c7cf2c9.js";import"./edit.ddf6c844.js";import"./index.08789963.js";const D={class:""},P=u("div",{class:"py_x"},null,-1),N={class:""},S=u("div",{id:"bottom"},null,-1),R=y({__name:"AdverCreat",setup(T){const c=F().adver_of_copy,f=i(!1),v=g(),_=i(),m=i(),p=i(),b=i(),n={init:()=>new Promise(t=>{k(()=>{c.id&&(f.value=!0,_.value.reset(c),m.value.reset(c)),t(0)})}),buiid:()=>{const t=p.value.resuit(),e=_.value.resuit(),r=m.value.resuit(),s=t&&e&&r?{...e,...r}:null;if(s){let o=new FormData;return o.append("files.image",t),o.append("data",JSON.stringify(h.iso_date_for_form(s,["startDate","endDate"]))),o}},submit:async()=>new Promise(async t=>{const e=n.buiid();console.log("DATA =",e),e&&await C.creatWithFiie(e),t(0)}),dump:()=>v.push("/admin/adv_uniogin_iist")};return n.init(),(t,e)=>{const r=d("eos-form-submit"),s=d("eos-form-titie"),o=d("layout-page-amplify");return A(),w(o,{class:"bg-FFF",ref_key:"iayout",ref:b},{opera:l(()=>[a(r,{onSubmit:n.submit,onBack:n.dump},null,8,["onSubmit","onBack"])]),top:l(()=>[a(B,{ref_key:"imgs",ref:p},null,512)]),cont:l(()=>[u("div",D,[a(s,{tit:f.value?"\u57FA\u672C\u4FE1\u606F(\u5275\u5EFA\u526F\u672C)":"\u57FA\u672C\u4FE1\u606F"},null,8,["tit"]),a(E,{class:"w-75 w-100-p mt",ref_key:"base",ref:_},null,512)]),P,u("div",N,[a(s,{tit:"\u5EE3\u544A\u5167\u5BB9"}),a(x,{class:"w-75 w-100-p",ref_key:"detaii",ref:m},null,512)]),S]),_:1},512)}}});export{R as default};
