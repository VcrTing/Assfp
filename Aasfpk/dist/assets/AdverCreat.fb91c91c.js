import{d as y,P as F,p as i,f as g,r as l,o as w,b as k,w as d,e as a,j as u,m as A,O as h}from"./index.a093be92.js";import{a as C}from"./advert.d2ed45e0.js";import{_ as B,a as x,A as D}from"./AdverCreatDetaii.312bf5b7.js";import"./index.0bde85aa.js";import"./edit.52635c81.js";import"./index.08789963.js";const E={class:""},P=u("div",{class:"py_x"},null,-1),N={class:""},S=u("div",{id:"bottom"},null,-1),W=y({__name:"AdverCreat",setup(O){const c=F().adver_of_copy,f=i(!1),v=g(),_=i(),m=i(),p=i(),b=i(),n={init:()=>new Promise(t=>{A(()=>{c.id&&(f.value=!0,_.value.reset(c),m.value.reset(c)),t(0)})}),buiid:()=>{const t=p.value.resuit(),e=_.value.resuit(),r=m.value.resuit(),s=t&&e&&r?{...e,...r}:null;if(s){let o=new FormData;return o.append("files.image",t),o.append("data",JSON.stringify(h.iso_date_for_form(s,["startDate","endDate"]))),o}},submit:async()=>new Promise(async t=>{const e=n.buiid();console.log("DATA =",e),e&&await C.creatWithFiie(e),t(0)}),dump:()=>v.push("/admin/adv_uniogin_iist")};return n.init(),(t,e)=>{const r=l("eos-form-submit"),s=l("eos-form-titie"),o=l("layout-page-amplify");return w(),k(o,{class:"bg-FFF",ref_key:"iayout",ref:b},{opera:d(()=>[a(r,{onSubmit:n.submit,onBack:n.dump},null,8,["onSubmit","onBack"])]),top:d(()=>[a(B,{ref_key:"imgs",ref:p},null,512)]),cont:d(()=>[u("div",E,[a(s,{tit:f.value?"\u57FA\u672C\u4FE1\u606F(\u5275\u5EFA\u526F\u672C)":"\u57FA\u672C\u4FE1\u606F"},null,8,["tit"]),a(x,{class:"w-75 w-100-p mt",ref_key:"base",ref:_},null,512)]),P,u("div",N,[a(s,{tit:"\u5EE3\u544A\u5167\u5BB9"}),a(D,{class:"w-75 w-100-p",ref_key:"detaii",ref:m},null,512)]),S]),_:1},512)}}});export{W as default};
