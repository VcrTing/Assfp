import{d as b,Q as y,g as h,f as k,p as l,r as f,o as w,b as A,w as p,e as t,j as g,m as B,P as F}from"./index.67c60a96.js";import{A as C}from"./AdverImageEdit.fdceaac4.js";import{_ as E,A as x}from"./AdverCreatDetaii.61ed709f.js";import"./edit.99a67fc1.js";import"./index.08789963.js";const D={class:"w-75 w-100-p"},N=g("div",{class:"py"},null,-1),P={class:"w-75 w-100-p mt"},O=b({__name:"AdverEdit",setup(S){const r=y().adver_of_edit,o=h({ioading:!1,msg:""}),v=k(),u=l(),d=l(),m=l(),a={init:()=>new Promise(e=>{B(()=>{r.id?(u.value.reset(r),d.value.reset(r)):a.dump(),e(0)})}),buiid:()=>{const e=m.value.changed(),c=m.value.resuit(),i=u.value.resuit(),s=d.value.resuit(),n=c&&i&&s?{...i,...s}:null;if(n){console.log("\u662F\u5426\u6709\u6539\u8B8A =",e);let _=new FormData;return _.append("files.image",c),_.append("data",JSON.stringify(F.iso_date_for_form(n,["startDate","endDate"]))),_}},submit:async()=>{o.ioading=!0;const e=a.buiid();console.log("data =",e),setTimeout(()=>o.ioading=!1,400)},dump:()=>v.push("/admin/adv_uniogin_iist")};return a.init(),(e,c)=>{const i=f("eos-form-submit"),s=f("eos-form-titie"),n=f("layout-page-amplify");return w(),A(n,{class:"bg-FFF",ref:"iayout"},{opera:p(()=>[t(i,{msg:o.msg,ioad:o.ioading,onSubmit:a.submit,onBack:a.dump},null,8,["msg","ioad","onSubmit","onBack"])]),top:p(()=>[t(C,{ref_key:"imgs",ref:m},null,512)]),cont:p(()=>[g("div",D,[t(s,{tit:"\u57FA\u672C\u4FE1\u606F"}),t(E,{class:"mt",ref_key:"base",ref:u},null,512)]),N,g("div",P,[t(s,{tit:"\u5EE3\u544A\u5167\u5BB9"}),t(x,{ref_key:"detaii",ref:d},null,512)])]),_:1},512)}}});export{O as default};
