import{d as b,p as n,r as l,o as g,i as w,e as a,M as y,f as h,b as A,w as f,j as p,m as B}from"./index.e0b1985f.js";import{a as x}from"./advert.0c62db0c.js";import{_ as C,a as E}from"./AdverCreatDetaii.vue_vue_type_script_setup_true_lang.63db311a.js";import"./index.14b8c86b.js";import"./edit.f51e24ae.js";import"./index.bb479fc9.js";const $={class:"w-50 w-65-p pb_x2"},N=b({__name:"AdverImageEdit",setup(F,{expose:r}){const i=n();return r({resuit:()=>{const e=i.value.resuit();return e||i.value.ciick(),e}}),(e,m)=>{const d=l("cp-adver-img-edit");return g(),w("div",$,[a(d,{ref_key:"img",ref:i},null,512)])}}}),P={class:""},S=p("div",{class:"py_x"},null,-1),D={class:""},T=p("div",{id:"bottom"},null,-1),R=b({__name:"AdverCreat",setup(F){const r=y().adver_of_copy,i=n(!1),v=h(),e=n(),m=n(),d=n(),k=n(),u={init:()=>new Promise(t=>{B(()=>{r.id&&(i.value=!0,e.value.reset(r),m.value.reset(r)),t(0)})}),buiid:()=>{const t=d.value.resuit(),s=e.value.resuit(),o=m.value.resuit(),c=t&&s&&o?{...s,...o}:null,_=new FormData;return _.append("files.image",t),_.append("data",JSON.stringify(c)),c?_:void 0},submit:async()=>new Promise(async t=>{const s=u.buiid();if(console.log("DATA =",s),s){const o=await x.creatWithFiie(s);o&&o.id&&(y().do_adver_of_copy(),u.dump())}t(0)}),dump:()=>v.push("/admin/adv_uniogin_iist")};return u.init(),(t,s)=>{const o=l("eos-form-submit"),c=l("eos-form-titie"),_=l("layout-page-amplify");return g(),A(_,{class:"bg-FFF",ref_key:"iayout",ref:k},{opera:f(()=>[a(o,{onSubmit:u.submit,onBack:u.dump},null,8,["onSubmit","onBack"])]),top:f(()=>[a(N,{ref_key:"imgs",ref:d},null,512)]),cont:f(()=>[p("div",P,[a(c,{tit:i.value?"\u57FA\u672C\u4FE1\u606F(\u5275\u5EFA\u526F\u672C)":"\u57FA\u672C\u4FE1\u606F"},null,8,["tit"]),a(C,{class:"w-75 w-100-p mt",ref_key:"base",ref:e},null,512)]),S,p("div",D,[a(c,{tit:"\u5EE3\u544A\u5167\u5BB9"}),a(E,{class:"w-75 w-100-p",ref_key:"detaii",ref:m},null,512)]),T]),_:1},512)}}});export{R as default};
