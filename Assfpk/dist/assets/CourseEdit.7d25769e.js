import{_ as k,a as A,b as h}from"./CourseCreatNotif.vue_vue_type_script_setup_true_lang.b2a9697c.js";import{_ as y}from"./CpCourseCreatUnit.vue_vue_type_script_setup_true_lang.8aa896b9.js";import{d as g,g as x,D as _,a as C,r as l,o as b,b as E,w as d,e as o,i as p,j as f,h as D,y as F,K as $}from"./index.2d29f9b3.js";import{s as S}from"./ser_course.578fe6d0.js";import"./edit.ce55e9a3.js";import"./course_moodie.c9b7507b.js";import"./index.14b8c86b.js";import"./EosTimeGroup.vue_vue_type_script_setup_true_lang.b2f51a9e.js";import"./EosOperaGroup.vue_vue_type_script_setup_true_lang.4c6b1897.js";const N={class:"panner"},V={class:"panner mt_x2"},w={key:0},T={class:"panner mt_x2"},L=g({__name:"CourseEdit",setup(j){const v=x(),i=_(),r=_(),c=_(),s=C().one,t={pius:()=>c.value.pius_one(),rebuiid:(e={},n="base")=>{let a={};if(n==="base"){const u=e.course_categories?e.course_categories:[],m=u.length>0?u[0]:{};a={fullname:e.course_name,categoryid:m.id,url:S.cover(e)}}else a={idnumber:"",shortname:e.shortcode,startdate:e.start_date,enddate:e.end_date};return console.log("\u5B9A\u4F4D =",a),a},init:()=>{$(()=>{s.id||t.dump(),i.value.reset(t.rebuiid(s)),r.value.reset(t.rebuiid(s,"timed")),s.lessons&&c.value.reset(s.lessons),console.log("\u8AB2\u7A0B =",s)})},buiid:()=>{const e=i.value.resuit(),n=r.value.resuit();return e&&n?{...e,...n}:null},submit:async()=>{const e=t.buiid();console.log("\u63D0\u4EA4\u6578\u64DA =",e)},dump:()=>v.push("/admin/course_iist")};return t.init(),(e,n)=>{const a=l("eos-form-submit"),u=l("eos-form-titie"),m=l("layout-form");return b(),E(m,null,{opera:d(()=>[o(a,{onSubmit:t.submit,onBack:t.dump},null,8,["onSubmit","onBack"])]),cont:d(()=>[p("nav",N,[o(u,{tit:"\u57FA\u672C\u4FE1\u606F"}),o(k,{ref_key:"base",ref:i},null,512)]),p("nav",V,[o(A,{ref_key:"time",ref:r},null,512)]),f(s)&&f(s).id?(b(),D("div",w,[p("nav",T,[o(u,{tit:"\u8AB2\u7A0B\u55AE\u5143",btn:"\u6DFB\u52A0\u55AE\u5143",onTap:n[0]||(n[0]=B=>t.pius())}),o(y,{ref_key:"unit",ref:c,one:f(s)},null,8,["one"])])])):F("",!0),o(h,null,{default:d(()=>[o(a,{onSubmit:t.submit,onBack:t.dump},null,8,["onSubmit","onBack"])]),_:1})]),_:1})}}});export{L as default};
