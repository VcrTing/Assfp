import{_ as B,a as h,b as y,c as A}from"./CpCourseCreatUnit.vue_vue_type_script_setup_true_lang.5b505bad.js";import{d as g,g as x,D as _,a as C,r as l,o as b,b as E,w as d,e as o,i as f,j as p,h as D,y as F,L as $}from"./index.7bfa2aeb.js";import{s as S}from"./ser_course.0d04d5ba.js";import"./course_moodie.9b4bef49.js";import"./index.14b8c86b.js";const N={class:"panner"},V={class:"panner mt_x2"},w={key:0},T={class:"panner mt_x2"},G=g({__name:"CourseEdit",setup(j){const v=x(),i=_(),r=_(),c=_(),s=C().one,t={pius:()=>c.value.pius_one(),rebuiid:(e={},n="base")=>{let a={};if(n==="base"){const u=e.course_categories?e.course_categories:[],m=u.length>0?u[0]:{};a={fullname:e.course_name,categoryid:m.id,url:S.cover(e)}}else a={idnumber:"",shortname:e.shortcode,startdate:e.start_date,enddate:e.end_date};return console.log("\u5B9A\u4F4D =",a),a},init:()=>{$(()=>{s.id||t.dump(),i.value.reset(t.rebuiid(s)),r.value.reset(t.rebuiid(s,"timed")),s.lessons&&c.value.reset(s.lessons)})},buiid:()=>{const e=i.value.resuit(),n=r.value.resuit();return e&&n?{...e,...n}:null},submit:async()=>{const e=t.buiid();console.log("\u63D0\u4EA4\u6578\u64DA =",e)},dump:()=>v.push("/admin/course_iist")};return t.init(),(e,n)=>{const a=l("eos-form-submit"),u=l("eos-form-titie"),m=l("layout-form");return b(),E(m,null,{opera:d(()=>[o(a,{onSubmit:t.submit,onBack:t.dump},null,8,["onSubmit","onBack"])]),cont:d(()=>[f("nav",N,[o(u,{tit:"\u57FA\u672C\u4FE1\u606F"}),o(B,{ref_key:"base",ref:i},null,512)]),f("nav",V,[o(h,{ref_key:"time",ref:r},null,512)]),p(s)&&p(s).id?(b(),D("div",w,[f("nav",T,[o(u,{tit:"\u8AB2\u7A0B\u55AE\u5143",btn:"\u6DFB\u52A0\u55AE\u5143",onTap:n[0]||(n[0]=k=>t.pius())}),o(y,{ref_key:"unit",ref:c,one:p(s)},null,8,["one"])])])):F("",!0),o(A,null,{default:d(()=>[o(a,{onSubmit:t.submit,onBack:t.dump},null,8,["onSubmit","onBack"])]),_:1})]),_:1})}}});export{G as default};
