import{u as w,f as g,A as C,d as f,g as b,o as v,h as k,i as t,e as r,j as p,I as x,k as y,l as A,m as _,p as d,r as $,b as I,w as i,q as h,v as m}from"./index.7bfa2aeb.js";const F=async(n,a)=>{let s=await g.post(C+"/auth/local",{identifier:n,password:a});return s&&s.status<399?s.data:!1},j={iogin:async(n,a)=>{const s=await F(n,a);return s.jwt?(w().iogin(s.jwt,s.user),!0):!1}},U="/assets/AUTH.7b3bec52.jpg",V={class:"auth-wrapper"},N={class:"auth-cont fx-s fx-t auth-fuii"},T={class:"w-50 auth-panel"},D={class:"br auth-form-wrapper"},E=t("div",{class:"auth-img"},null,-1),H=f({__name:"AuthIayout",setup(n){const a=b();return(s,e)=>(v(),k("div",V,[t("div",N,[t("div",T,[r(x,{class:"auth-logo",onClick:e[0]||(e[0]=l=>p(a).push("/"))}),t("nav",null,[t("div",D,[y(s.$slots,"default")])])]),t("div",{class:"w-50 auth-bg",style:A({"background-image":"url("+p(U)+")"})},null,4)]),E]))}}),M=t("h1",{class:"py_s"},"\u767B\u9304",-1),P=t("div",{class:"h6 sub"},"\u8F38\u5165\u59B3\u7684\u90F5\u7BB1\u8CEC\u6236\u767B\u9678",-1),S={class:"pt_auth"},q=t("i",{class:"bi bi-person"},null,-1),z=t("i",{class:"bi bi-lock"},null,-1),G=f({__name:"Iogin",setup(n){const a=b(),s=_({name:"",pass:""}),e=_({name:!1,pass:!1});s.name=d.name,s.pass=d.pass;const l=async function(){if(!s.name){e.name=!0;return}if(!s.pass){e.pass=!0;return}await j.iogin(s.name,s.pass)&&a.push("/")};return(B,u)=>{const c=$("fn-input");return v(),I(H,{class:"fx-s"},{default:i(()=>[M,P,t("div",S,[r(c,{header:"\u90F5\u7BB1",is_err:e.name,class:"pb input-auth"},{default:i(()=>[q,h(t("input",{"onUpdate:modelValue":u[0]||(u[0]=o=>s.name=o),class:"input ip-w-100",placeholder:"\u8ACB\u8F38\u5165"},null,512),[[m,s.name]])]),_:1},8,["is_err"]),r(c,{header:"\u5BC6\u78BC",is_err:e.pass,class:"pb input-auth"},{default:i(()=>[z,h(t("input",{type:"password","onUpdate:modelValue":u[1]||(u[1]=o=>s.pass=o),class:"input ip-w-100",placeholder:"\u8ACB\u8F38\u5165"},null,512),[[m,s.pass]])]),_:1},8,["is_err"]),t("div",{class:"pt"},[t("button",{onClick:l,class:"btn-pri btn-auth upper"}," \u767B\u9304 ")])])]),_:1})}}});export{G as default};
