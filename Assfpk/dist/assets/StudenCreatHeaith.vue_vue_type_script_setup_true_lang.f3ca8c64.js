import{d as $,D as y,m as g,r as w,o as c,h as v,i as t,e as r,w as _,q as f,v as m,_ as A,C as E,F as k,s as F,t as b,J as V,j as S,H as T,x as N,y as D,b as C}from"./index.7bfa2aeb.js";import{e as B}from"./edit.c5ce7a24.js";const I={class:"row_x2 fx-l"},H={class:"row_x2 fx-l pt_x2"},qe=$({__name:"StudenCreatBase",setup(s,{expose:x}){const l=y(),i=g({birthdate:"",ID_card_num:"",firstname:"",lastname:"",phone1:"",phone_preffix:"",sex:"",email:""}),n=g(B.gen_form_err(i)),u=function(){let o=!0;if(i.firstname)n.firstname=!1;else return n.firstname=!0,!1;if(i.email)n.email=!1;else return n.email=!0,!1;return Object.values(n).map(e=>{e&&(o=!1)}),o};return x({resuit:()=>u()?i:null,reset:o=>{for(let e in i)i[e]=o[e];console.log("\u5B9A\u4F4D =",i),l.value.ioc(i.sex)}}),(o,e)=>{const a=w("fn-input"),p=w("eos-user-sex");return c(),v("div",null,[t("div",I,[r(a,{class:"w-25 w-50-p",tit:"First name"},{default:_(()=>[f(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=h=>i.firstname=h),class:"input",placeholder:"\u8ACB\u8F38\u5165"},null,512),[[m,i.firstname]])]),_:1}),r(a,{class:"w-25 w-50-p",tit:"Last name"},{default:_(()=>[f(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=h=>i.lastname=h),class:"input",placeholder:"\u8ACB\u8F38\u5165"},null,512),[[m,i.lastname]])]),_:1}),r(a,{class:"w-30 w-50-p mt-p",tit:"ID card No."},{default:_(()=>[f(t("input",{"onUpdate:modelValue":e[2]||(e[2]=h=>i.ID_card_num=h),class:"input",placeholder:"\u8ACB\u8F38\u5165"},null,512),[[m,i.ID_card_num]])]),_:1},8,["tit"]),r(a,{class:"w-20 w-25-p mt-p",tit:"\u6027\u5225"},{default:_(()=>[r(p,{class:"input",ref_key:"sex",ref:l,onResuit:e[3]||(e[3]=h=>i.sex=h)},null,512)]),_:1})]),t("div",H,[r(a,{class:"w-25 w-50-p",tit:"\u96FB\u8A71\u865F\u78BC"},{default:_(()=>[f(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=h=>i.phone1=h),class:"input",placeholder:"\u8ACB\u8F38\u5165"},null,512),[[m,i.phone1]])]),_:1}),r(a,{class:"w-55 w-50-p",tit:"\u90F5\u7BB1"},{default:_(()=>[f(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=h=>i.email=h),class:"input",placeholder:"\u8ACB\u8F38\u5165"},null,512),[[m,i.email]])]),_:1})])])}}}),j={},P={class:"fx-l"},R=E('<div class="tr px-0 fx-1"><div class="w-21"> \u65E5\u671F </div><div class="w-18"> \u8840\u578B </div><div class="w-13"> \u8EAB\u9AD8(cm) </div><div class="w-13"> \u4F53\u91CD(\u516C\u65A4) </div><div class="w-13"> \u4F53\u8102\u7387(%) </div><div class="w-11"> \u8840\u7CD6 </div><div class="w-11"> \u8840\u8102 </div></div>',1),L={class:"pl hide"};function O(s,x){const l=w("eos-tabie-heaith-opera");return c(),v("div",P,[R,t("div",L,[r(l)])])}const q=A(j,[["render",O]]),J={class:""},M={class:"pan fx-s"},z=t("h3",null,"\u904B\u52D5\u6CE8\u610F\u4E8B\u9805",-1),G={class:"t-r"},K={class:"pan"},Q={key:0,class:"pb_x2"},W={class:""},X={class:"sus"},Y=["onClick"],Z={class:"err_son pt_s t-r"},ee=["onClick"],te=t("span",{class:"px_s"},null,-1),se=["onClick"],ne=t("i",{class:"bi bi-trash"},null,-1),ie=[ne],oe={key:1,class:"pb_x2"},le={class:""},ae={class:""},ue=["onUpdate:modelValue","onBlur"],re={class:"err_son pt_s t-r"},de=["onClick"],_e=t("span",{class:"px_s"},null,-1),ce=["onClick"],pe=t("i",{class:"bi bi-trash"},null,-1),fe=[pe],U=$({__name:"CpStudenHeaithItemFixedPan",props:{one:null},setup(s,{expose:x}){const l=s,i={pius_use:()=>{let n=0;l.one.precautions_list_edit.map(u=>{u.txt?u.is_edit=!1:(n+=1,u.is_edit=!0)}),n<=0&&i.pius()},pius:n=>l.one.precautions_list_edit.push({txt:n||"",is_edit:!0,is_err:!1}),trash:(n,u)=>{const o=l.one.precautions_list_edit;o.length<=1?(o[0].txt="",o.is_edit=!0):o.splice(u,1)}};return x({ioc:(n=[])=>{n.length>0&&(l.one.precautions_list_edit.length=0),n.map(u=>{i.pius(u)})},resuit:()=>{let n=[];return l.one.precautions_list_edit.map(u=>{u.txt&&(u.is_err=!1,u.is_edit=!1,n.push(u.txt))}),n}}),(n,u)=>{const o=w("fn-input");return c(),v("div",J,[t("div",M,[z,t("div",G,[t("button",{class:"btn-pri btn-def-ig",onClick:u[0]||(u[0]=e=>i.pius_use())},"\u6DFB\u52A0\u4E8B\u9805")])]),t("div",K,[(c(!0),v(k,null,F(s.one.precautions_list_edit,(e,a)=>(c(),v("div",{key:a},[e.is_edit?(c(),v("div",oe,[t("div",le,[t("span",ae,"\u7B2C"+b(a+1)+"\u9805",1)]),r(o,{class:"fx-1 pt_s",is_err:e.is_err},{default:_(()=>[f(t("textarea",{class:"input","onUpdate:modelValue":p=>e.txt=p,onBlur:p=>e.is_edit=!1,placeholder:"\u8ACB\u8F38\u5165\u4E00\u9805\u6CE8\u610F\u4E8B\u9805"},null,40,ue),[[m,e.txt]])]),_:2},1032,["is_err"]),t("div",re,[t("button",{onClick:()=>{e.is_edit=!e.txt,e.is_err=!e.txt}},"\u5132\u5B58",8,de),_e,t("button",{onClick:p=>i.trash(e,a)},fe,8,ce)])])):(c(),v("div",Q,[t("div",W,[t("span",X,"\u7B2C"+b(a+1)+"\u9805",1)]),r(o,{class:"fx-1 pt_s",is_txt_mode:!0},{default:_(()=>[t("span",{onClick:p=>e.is_edit=!0},b(e.txt),9,Y)]),_:2},1024),t("div",Z,[t("button",{onClick:p=>e.is_edit=!0},"\u7DE8\u8F2F",8,ee),te,t("button",{onClick:p=>i.trash(e,a)},ie,8,se)])]))]))),128))])])}}}),me={class:"fx-l"},he={class:"td px-0 fx-1"},ve={class:"w-21"},xe={class:"w-18"},be={class:"w-13"},we={class:"w-13"},$e={class:"w-13"},ge={key:0},ye={class:"w-11"},Ce={class:"w-11"},Be={class:"pl"},ke=$({__name:"SchTd",props:{one:null,i:null},emits:["trash"],setup(s){const x=s;return V(()=>x.one.pan,l=>{var i;(i=x.one.precautions_list_edit)==null||i.map(n=>{var u;(u=x.one.precautions_list)==null||u.push(n.txt)})}),(l,i)=>{const n=w("eos-tabie-heaith-opera"),u=w("fn-fixed-pan");return c(),v("div",me,[t("div",he,[t("div",ve,b(S(T).view_time(s.one.date?s.one.date:"",!0)),1),t("div",xe," S:"+b(s.one.blood_pressure?s.one.blood_pressure.systolic:" ")+" / D:"+b(s.one.blood_pressure?s.one.blood_pressure.diastolic:" "),1),t("div",be,b(s.one.height),1),t("div",we,b(s.one.weight),1),t("div",$e,[N(b(s.one.fat_percentage),1),s.one.fat_percentage?(c(),v("span",ge," %")):D("",!0)]),t("div",ye,b(s.one.blood_sugar),1),t("div",Ce,b(s.one.blood_lipids),1)]),t("div",Be,[r(n,{onPanner:i[0]||(i[0]=o=>s.one.pan=!0),onEdit:i[1]||(i[1]=o=>s.one.is_edit=!0),onTrash:i[2]||(i[2]=o=>l.$emit("trash",s.i))})]),r(u,{iive:s.one.pan,onTap:i[3]||(i[3]=()=>{s.one.pan=!s.one.pan})},{default:_(()=>[r(U,{one:s.one,ref:"fixedpan"},null,8,["one"])]),_:1},8,["iive"])])}}}),Fe={class:"fx-l"},Ve={class:"td-for-form fx-1"},De={class:"w-21"},Ue={class:"w-18"},Ae={class:"fx-l"},Ee=t("span",{class:"sus"},"/",-1),Se={class:"w-13"},Te={class:"w-13"},Ne={class:"w-13"},Ie={class:"w-11"},He={class:"w-11"},je={class:"pl"},Pe=$({__name:"CpStudenHeaithAu",props:{one:null,i:null},emits:["resuit","trash"],setup(s,{emit:x}){const l=s;y();const i=y(),n=g(B.gen_form_err(l.one)),u={can:()=>{let o=!0;if(!B.ser_timed(l.one,n,"date"))return!1;if(l.one.blood_pressure)n.blood_pressure=!1;else return n.blood_pressure=!0,!1;if(l.one.height)n.height=!1;else return n.height=!0,!1;if(l.one.weight)n.weight=!1;else return n.weight=!0,!1;if(l.one.blood_sugar)n.blood_sugar=!1;else return n.blood_sugar=!0,!1;if(l.one.fat_percentage)n.fat_percentage=!1;else return n.fat_percentage=!0,!1;return Object.values(n).map(e=>{e&&(o=!1)}),o},resuit:()=>{const o=i.value.resuit();return l.one.precautions_list=o,l.one},submit:()=>{u.can()&&x("resuit",u.resuit())}};return V(()=>l.one.pan,o=>{var e;(e=l.one.precautions_list_edit)==null||e.map(a=>{var p;(p=l.one.precautions_list)==null||p.push(a.txt)})}),(o,e)=>{const a=w("fn-input"),p=w("eos-tabie-heaith-opera"),h=w("fn-fixed-pan");return c(),v("div",Fe,[t("div",Ve,[t("div",De,[r(a,{is_err:n.date},{default:_(()=>[f(t("input",{class:"input","onUpdate:modelValue":e[0]||(e[0]=d=>s.one.date=d),placeholder:"\u5E74-\u6708-\u65E5 \u6642:\u5206"},null,512),[[m,s.one.date]])]),_:1},8,["is_err"])]),t("div",Ue,[s.one.blood_pressure?(c(),C(a,{key:0,is_err:n.blood_pressure},{default:_(()=>[t("div",Ae,[f(t("input",{class:"input ip-t","onUpdate:modelValue":e[1]||(e[1]=d=>s.one.blood_pressure.systolic=d),placeholder:"S"},null,512),[[m,s.one.blood_pressure.systolic]]),Ee,f(t("input",{class:"input ip-t","onUpdate:modelValue":e[2]||(e[2]=d=>s.one.blood_pressure.diastolic=d),placeholder:"D"},null,512),[[m,s.one.blood_pressure.diastolic]])])]),_:1},8,["is_err"])):D("",!0)]),t("div",Se,[r(a,{is_err:n.height},{default:_(()=>[f(t("input",{class:"input",type:"number","onUpdate:modelValue":e[3]||(e[3]=d=>s.one.height=d),placeholder:"\u8EAB\u9AD8"},null,512),[[m,s.one.height]])]),_:1},8,["is_err"])]),t("div",Te,[r(a,{is_err:n.weight},{default:_(()=>[f(t("input",{class:"input",type:"number","onUpdate:modelValue":e[4]||(e[4]=d=>s.one.weight=d),placeholder:"\u4F53\u91CD"},null,512),[[m,s.one.weight]])]),_:1},8,["is_err"])]),t("div",Ne,[r(a,{is_err:n.fat_percentage},{default:_(()=>[f(t("input",{class:"input",type:"number","onUpdate:modelValue":e[5]||(e[5]=d=>s.one.fat_percentage=d),placeholder:"\u4F53\u8102\u7387"},null,512),[[m,s.one.fat_percentage]])]),_:1},8,["is_err"])]),t("div",Ie,[r(a,{is_err:n.blood_sugar},{default:_(()=>[f(t("input",{class:"input",type:"number","onUpdate:modelValue":e[6]||(e[6]=d=>s.one.blood_sugar=d),placeholder:"\u8840\u7CD6"},null,512),[[m,s.one.blood_sugar]])]),_:1},8,["is_err"])]),t("div",He,[r(a,{is_err:n.blood_lipids},{default:_(()=>[f(t("input",{class:"input",type:"number","onUpdate:modelValue":e[7]||(e[7]=d=>s.one.blood_lipids=d),placeholder:"\u8840\u8102"},null,512),[[m,s.one.blood_lipids]])]),_:1},8,["is_err"])])]),t("div",je,[r(p,{is_save:!0,onSave:u.submit,onTrash:e[8]||(e[8]=d=>o.$emit("trash",s.i)),onPanner:e[9]||(e[9]=d=>s.one.pan=!0)},null,8,["onSave"])]),r(h,{iive:s.one.pan,onTap:e[10]||(e[10]=()=>{s.one.pan=!s.one.pan})},{default:_(()=>[r(U,{one:s.one,ref_key:"fixedpan",ref:i},null,8,["one"])]),_:1},8,["iive"])])}}}),Re={class:"tabie"},Je=$({__name:"StudenCreatHeaith",props:{one:null},emits:["resuit"],setup(s,{expose:x}){const l=g({many:[]}),i={reset:n=>{const u=n.health_form?n.health_form:[];u.map(o=>{var a;let e=[];o.pan=!1,o.is_edit=!1,o.ioading=!1,(a=o.precautions_list)==null||a.map(p=>{e.push({txt:p,is_edit:!0,is_err:!1})}),o.precautions_list_edit=e,l.many.push(o)}),u.length<=0&&i.pius()},pius:()=>{l.many.push({pan:!1,is_edit:!0,ioading:!1,weight:null,height:null,blood_sugar:null,blood_lipids:null,blood_pressure:{systolic:null,diastolic:null},date:"",id:null,fat_percentage:null,precautions_list:[],precautions_list_edit:[{txt:"",is_edit:!0,is_err:!1}]})},resuit:()=>({health_form:l.many.map(n=>n)})};return x(i),(n,u)=>(c(),v("div",Re,[r(q),(c(!0),v(k,null,F(l.many,(o,e)=>(c(),v("div",{key:e},[o.is_edit?(c(),C(Pe,{key:1,class:"pt",one:o,i:e,many:l.many,onTrash:a=>l.many.splice(a,1),onResuit:a=>a.is_edit=!1},null,8,["one","i","many","onTrash","onResuit"])):(c(),C(ke,{key:0,one:o,i:e,onTrash:a=>l.many.splice(a,1)},null,8,["one","i","onTrash"]))]))),128))]))}});export{qe as _,Je as a};
