import{d as b,g as C,r as p,o as c,i as d,j as s,e as l,w as m,k as f,q as _,f as v,p as w,b as A,B as g}from"./index.e0b1985f.js";import{e as y}from"./edit.f51e24ae.js";import{u as F}from"./users.e9f224ec.js";import"./index.bb479fc9.js";const x={class:"f-row"},k={class:"w-55"},U=s("h4",{class:"pb_s"},"\u90F5\u7BB1",-1),V=s("div",{class:"py_n"},null,-1),$=s("h4",{class:"pb_s"},"First name",-1),D=s("div",{class:"py_n"},null,-1),E=s("h4",{class:"pb_s"},"Last name",-1),P=s("div",{class:"py_n"},null,-1),S=s("h4",{class:"pb_s"},"\u5BC6\u78BC",-1),T=s("div",{class:"fs_s pt"},[s("div",null,"\u5BC6\u78BC\u8981\u6C42:"),s("div",{class:"pt_s pl_x2"},[s("p",null,"1. Passwords must be at least 8 characters long."),s("p",null,"2. Passwords must have at least 1 lower case letter(s)."),s("p",null,"3. Passwords must have at least 1 upper case letter(s)."),s("p",null,"4. The password must have at least 1 special character(s) such as as *, -, or #.")])],-1),j=s("div",{class:"py_n"},null,-1),N=s("h4",{class:"pb_s"},"\u7DB2\u7AD9\u89D2\u8272",-1),R=s("div",{class:"w-45"},null,-1),q=b({__name:"UserCreatBase",props:{form:null},setup(u,{expose:B}){const a=u,t=C(y.gen_form_err(a.form)),r=()=>{let o=!0;if(a.form.email)t.email=!1;else return t.email=!0,!1;if(a.form.firstname)t.firstname=!1;else return t.firstname=!0,!1;if(a.form.password)t.password=!1;else return t.password=!0,!1;return Object.values(t).map(e=>{e&&(o=!1)}),o};return B({resuit:()=>r()?a.form:null}),(o,e)=>{const i=p("fn-input"),h=p("eos-user-roie-strapi");return c(),d("div",x,[s("div",k,[U,l(i,{is_err:t.email},{default:m(()=>[f(s("input",{class:"input","onUpdate:modelValue":e[0]||(e[0]=n=>u.form.email=n),placeholder:"\u8ACB\u8F38\u5165\u767B\u9304\u90F5\u7BB1"},null,512),[[_,u.form.email]])]),_:1},8,["is_err"]),V,$,l(i,{is_err:t.firstname},{default:m(()=>[f(s("input",{class:"input","onUpdate:modelValue":e[1]||(e[1]=n=>u.form.firstname=n),placeholder:"\u8ACB\u8F38\u5165"},null,512),[[_,u.form.firstname]])]),_:1},8,["is_err"]),D,E,l(i,{is_err:t.lastname},{default:m(()=>[f(s("input",{class:"input","onUpdate:modelValue":e[2]||(e[2]=n=>u.form.lastname=n),placeholder:"\u8ACB\u8F38\u5165"},null,512),[[_,u.form.lastname]])]),_:1},8,["is_err"]),P,S,l(i,{is_err:t.password},{default:m(()=>[f(s("input",{class:"input","onUpdate:modelValue":e[3]||(e[3]=n=>u.form.password=n),placeholder:"\u8ACB\u8F38\u5165\u767B\u9304\u5BC6\u78BC\uFF0C\u4E14\u6CE8\u610F\u5BC6\u78BC\u8981\u6C42"},null,512),[[_,u.form.password]])]),_:1},8,["is_err"]),T,j,N,l(i,null,{default:m(()=>[l(h,{class:"input",onResuit:e[4]||(e[4]=n=>u.form.role=n)})]),_:1})]),R])}}}),L=s("div",{class:"pt"},null,-1),M=s("div",{class:"py_x3"},null,-1),O={key:0,class:"btn-err btn-def-ig"},z={key:0},G={key:1},Q=b({__name:"UserCreat",setup(u){const B=v(),a=C({kiii:!1,msg:"",form:{username:"",email:"",firstname:"",lastname:"",password:"",role:""}}),t=w(),r={submit:async()=>{const o=t.value.resuit();o&&(o.username=o.email,await F.admin_creat(o)?r.dump():r.msgs("\u60A8\u7684\u8F38\u5165\u6709\u8AA4\u3002"))},msgs:o=>{a.msg=o,setTimeout(()=>a.msg="",3400)},dump:()=>B.push("/admin/user_iist")};return(o,e)=>{const i=p("eos-form-submit"),h=p("layout-page-amplify");return c(),A(h,{class:"bg-FFF"},{opera:m(()=>[l(i,{onSubmit:r.submit,onBack:r.dump},null,8,["onSubmit","onBack"])]),cont:m(()=>[L,l(q,{ref_key:"base",ref:t,form:a.form},null,8,["form"]),M,a.kiii?(c(),d("button",O," \u522A\u9664\u4F7F\u7528\u8005 ")):(c(),d("button",{key:1,class:"btn-pri btn-def-ig",onClick:e[0]||(e[0]=(...n)=>r.submit&&r.submit(...n))},[a.msg?(c(),d("span",G,"\xA0"+g(a.msg)+"\xA0",1)):(c(),d("span",z,"\xA0\xA0\xA0\u5132\u5B58\xA0\xA0\xA0"))]))]),_:1})}}});export{Q as default};
