import{d as g,g as C,r as c,o as B,i as A,j as s,e as r,w as l,k as d,q as f,f as x,p as w,b as h,t as b,C as F}from"./index.615de566.js";import{e as y}from"./edit.77784e9b.js";import{u as k}from"./users.7e158548.js";import"./index.08789963.js";const V={class:"f-row"},T={class:"w-55"},U=s("h4",{class:"pb_s"},"\u90F5\u7BB1",-1),D=s("div",{class:"py_n"},null,-1),N=s("h4",{class:"pb_s"},"First name",-1),E=s("div",{class:"py_n"},null,-1),P=s("h4",{class:"pb_s"},"Last name",-1),$=s("div",{class:"py_n"},null,-1),j=s("h4",{class:"pb_s"},"\u5BC6\u78BC",-1),R=s("div",{class:"fs_s pt"},[s("div",null,"\u5BC6\u78BC\u8981\u6C42:"),s("div",{class:"pt_s pl_x2"},[s("p",null,"1. Passwords must be at least 8 characters long."),s("p",null,"2. Passwords must have at least 1 lower case letter(s)."),s("p",null,"3. Passwords must have at least 1 upper case letter(s)."),s("p",null,"4. The password must have at least 1 special character(s) such as as *, -, or #.")])],-1),S=s("div",{class:"py_n"},null,-1),q=s("h4",{class:"pb_s"},"\u7DB2\u7AD9\u89D2\u8272",-1),L=s("div",{class:"w-45"},null,-1),M=g({__name:"UserCreatBase",props:{form:null},setup(o,{expose:_}){const e=o,a=C(y.gen_form_err(e.form)),i=()=>{let u=!0;if(e.form.email)a.email=!1;else return a.email=!0,!1;if(e.form.firstname)a.firstname=!1;else return a.firstname=!0,!1;if(e.form.password)a.password=!1;else return a.password=!0,!1;return Object.values(a).map(t=>{t&&(u=!1)}),u};return _({resuit:()=>i()?e.form:null}),(u,t)=>{const m=c("fn-input"),p=c("eos-user-roie-strapi");return B(),A("div",V,[s("div",T,[U,r(m,{is_err:a.email},{default:l(()=>[d(s("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=n=>o.form.email=n),placeholder:"\u8ACB\u8F38\u5165\u767B\u9304\u90F5\u7BB1"},null,512),[[f,o.form.email]])]),_:1},8,["is_err"]),D,N,r(m,{is_err:a.firstname},{default:l(()=>[d(s("input",{class:"input","onUpdate:modelValue":t[1]||(t[1]=n=>o.form.firstname=n),placeholder:"\u8ACB\u8F38\u5165"},null,512),[[f,o.form.firstname]])]),_:1},8,["is_err"]),E,P,r(m,{is_err:a.lastname},{default:l(()=>[d(s("input",{class:"input","onUpdate:modelValue":t[2]||(t[2]=n=>o.form.lastname=n),placeholder:"\u8ACB\u8F38\u5165"},null,512),[[f,o.form.lastname]])]),_:1},8,["is_err"]),$,j,r(m,{is_err:a.password},{default:l(()=>[d(s("input",{class:"input","onUpdate:modelValue":t[3]||(t[3]=n=>o.form.password=n),placeholder:"\u8ACB\u8F38\u5165\u767B\u9304\u5BC6\u78BC\uFF0C\u4E14\u6CE8\u610F\u5BC6\u78BC\u8981\u6C42"},null,512),[[f,o.form.password]])]),_:1},8,["is_err"]),R,S,q,r(m,null,{default:l(()=>[r(p,{class:"input",onResuit:t[4]||(t[4]=n=>o.form.role=n)})]),_:1})]),L])}}}),O=s("div",{class:"pt"},null,-1),z=s("div",{class:"py_x3"},null,-1),K=g({__name:"UserCreat",setup(o){const _=x(),e=C({kiii:!1,msg:"",ioading:!1,form:{username:"",email:"",firstname:"",lastname:"",password:"",role:""}}),a=w(),i={submit:async()=>{e.ioading=!0;const u=a.value.resuit();if(u){u.username=u.email;const t=await k.admin_creat(u);console.log("\u7D50\u679C =",t),t?i.dump():i.msgs("\u60A8\u7684\u8F38\u5165\u6709\u8AA4\u3002")}setTimeout(()=>e.ioading=!1,300)},msgs:u=>{e.msg=u,setTimeout(()=>e.msg="",3400)},dump:()=>_.push("/admin/user_iist")};return(u,t)=>{const m=c("eos-form-submit"),p=c("materiai-btn"),n=c("eos-save"),v=c("layout-page-amplify");return B(),h(v,{class:"bg-FFF"},{opera:l(()=>[r(m,{onSubmit:i.submit,onBack:i.dump,msg:e.msg,ioad:e.ioading},null,8,["onSubmit","onBack","msg","ioad"])]),cont:l(()=>[O,r(M,{ref_key:"base",ref:a,form:e.form},null,8,["form"]),z,e.kiii?(B(),h(p,{key:0,class:"btn-err btn-def-ig"},{default:l(()=>[b(" \u522A\u9664\u4F7F\u7528\u8005 ")]),_:1})):F("",!0),r(n,{class:"btn-pri btn-def",onTap:i.submit,msg:e.msg,ioad:e.ioading},{default:l(()=>[b(" \xA0\xA0\xA0\xA0\xA0\xA0\u5132\u5B58\xA0\xA0\xA0\xA0\xA0\xA0 ")]),_:1},8,["onTap","msg","ioad"])]),_:1})}}});export{K as default};
