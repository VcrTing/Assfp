import{n as l,u,d as v,g as x,r as b,o as m,h,i as o,t as c,j as i,F,s as T,x as H,y as A,e as D,z,B as j}from"./index.7bfa2aeb.js";import{u as k}from"./users.64d46355.js";import{s as p}from"./index.14b8c86b.js";const P=async t=>{let e=await l.get("notific",u().jwt,t);return e?p.ser_aii(e,[]):{}},G=async(t,e)=>{let a=await l.get("notific",u().jwt,t,e);return console.log("\u5355\u4E2A =",a),a?{}:{}},N=async t=>{let e=await l.pos("notific",u().jwt,t);return console.log("\u521B\u5EFA \u63D0\u9192 =",e),!!e},I=async t=>{let e=await l.put("notific",u().jwt,{uid:t,status:"Canceled"},"");return console.log("Canceled res =",e),!!e},f={one:G,many:P,creat:N,canceied:I},L=async(t,e)=>{let a=await l.get("course_my",u().jwt,t,u().is_admin?e:"");return a?p.ser_aii(a,[]):{}},M=async t=>{let e=await l.get("course_cate",u().jwt,t);return e?p.ser_aii(e,[]):{}},C={many_my:L,category:M},O=async(t,e)=>{let a=await l.get("course_my_finish",u().jwt,t,u().is_admin?e:"");return a?p.ser_aii(a,[]):{}},V=async(t,e,a)=>{let y=await l.pos("course_my_finish",u().jwt,{student_id:t,course_id:e,result:a});console.log("\u5B8C\u6210\u8BFE\u7A0B =",y)},E={many_my:O,compeieted:V},d={student_id:"8",studen_moodie_id:"54",teacher_id:"1223",def_notific:{headings:{en:" ",zh_Hans:" ",zh_Hant:" "},contents:{en:" ",zh_Hans:" ",zh_Hant:" "},passage:{en:" ",zh_Hant:" ",zh_Hans:" "},passage1:{en:" ",zh_Hant:" ",zh_Hans:" "},passage2:{en:" ",zh_Hant:" ",zh_Hans:" "},passage3:{en:" ",zh_Hant:" ",zh_Hans:" "},external_user_id:[],image_url:["https://img2.baidu.com/it/u=2421090168,324781765&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1671555600&t=0bdff064d3a528c44c976149b689a854"],expected_push_date:"2022-10-21 10:50",type:"event",written_by:" ",url:" "},user_heaith_info:{nickname:"test",status:"single",location:"sadas street",sex:"M",birthdate:"2022-10-25"},heaith_form:[{id:4,height:170.6,weight:"70",fat_percentage:"97.4",blood_lipids:22.3,blood_sugar:212,precautions_list:["asdadad","asdasda"],blood_pressure:{systolic:12,diastolic:"123.5"},date:"2022-12-06"}],endpoint:{"GET users":"/user \uFF0C\u8FC7\u6EE4 = admin","GET students":"/user \uFF0C\u8FC7\u6EE4 = student","GET teachers":"/user \uFF0C\u8FC7\u6EE4 = teacher","PATCH \u5355\u6761\u8D26\u6237\u4FE1\u606F":"/users-permissions/users/user_detail","PATCH \u5168\u90E8\u5065\u5EB7\u4FE1\u606F":"/users-permissions/users/health_detail","DELETE \u5220\u9664\u67D0\u6761\u5065\u5EB7\u4FE1\u606F":"/users/health_detail/:form_id","GET lessons":"/me/lessons","GET lessons \u5B8C\u6210\u7684":"/me/lesson-completions","PATCH lessons \u5B8C\u6210\u7684\u72B6\u6001":"/lesson-completions","PTACH \u6539\u53D8 lessons of one course":"/lesson/addLessons","GET courses":"/me/moodle-courses","POST course creat":"/moodle-courses/createCourse","GET course \u5B8C\u6210\u7684s":"/me/course-completions","POST course \u5B8C\u6210\u7684\u72B6\u6001":"/course-completions","PATCH add user to course":"/moodle-courses/enrolUser","PATCH remove user to course":"/moodle-courses/unrolUserr",\u767B\u5F55:"/auth/local",\u6CE8\u518C:"/users-permissions/admin/registerUser",\u4FEE\u6539\u5BC6\u7801:"/auth/change-password",\u5FD8\u8BB0\u5BC6\u7801:"/auth/forgot-password",\u91CD\u7F6E\u5BC6\u7801:"/auth/reset-password"}},S=[{name:"me moodie course",value:"me_course",desc:"",head:"course",roie:[0,1,2]},{name:"me moodie course completed",value:"me_course_finish",desc:"",head:"course",roie:[0,1]},{name:"me moodie course completed patch",value:"me_course_finish_patch",desc:"",head:"course",roie:[0,1]},{},{name:"moodie course category",value:"category",desc:"",head:"course",roie:[0,1,2]},{},{name:"me iessions",value:"me_iession",desc:"",head:"iessions",roie:[0,1,2]},{name:"iessions addiessions",value:"addiession",desc:"",head:"iessions",roie:[0,1]},{},{name:"notifications",value:"notific",desc:"",head:"notific",roie:[0,1,2]},{name:"notification one",value:"notific_one",desc:"",head:"notific",roie:[0,1,2]},{name:"notification creat",value:"notific_creat",desc:"",head:"notific",roie:[0]},{name:"notification canceied",value:"notific_canceied",desc:"",head:"notific",roie:[0]},{},{name:"advertisements",value:"advert",desc:"",head:"advert",roie:[0]},{},{name:"aii users",value:"users",desc:"",head:"users",roie:[0]},{name:"teachers",value:"teachers",desc:"",head:"teachers",roie:[0,1,2]},{name:"students",value:"students",desc:"",head:"students",roie:[0,1,2]},{},{name:"user health",value:"user_heaith",desc:"",head:"students",roie:[0,1,2]}],U={class:"py"},$={class:"px_x fx-s"},J=o("br",null,null,-1),R=o("h5",null,"Endpoint:",-1),W=o("hr",null,null,-1),q={class:"px_x py_s bg-FFF"},K={key:0,class:"fx-l"},Q=["onClick"],X={class:"pl_x4"},Y={class:"sec pl"},Z=o("br",null,null,-1),ee=o("br",null,null,-1),se=o("br",null,null,-1),oe=o("br",null,null,-1),ue=v({__name:"endpoint",setup(t){const e=x(),a={0:{name:"admin"},1:{name:"teacher"},2:{name:"student"}},y=n=>{let s="";return n.map(g=>{s+=a[g].name+" "}),s},r=u();console.log("\u5F53\u524D\u767B\u5F55\u7528\u6237 =",r.user);const w=async n=>{if(console.log(""),console.log("\u5F00\u59CB\u8FDE\u63A5 =",n),n==="category"){const s=await C.category({});console.log("\u8BFE\u7A0B\u7C7B\u522B =",s)}else if(n==="me_course"){const s=await C.many_my({},d.student_id);console.log("My Course =",s)}else if(n==="me_course_finish"){const s=await E.many_my({},d.student_id);console.log("My Course =",s)}else if(n==="me_course_finish_patch")await E.compeieted(d.student_id,d.teacher_id,"failed");else if(n==="notific"){const s=await f.many({});console.log("Notifications =",s)}else if(n==="notific_one"){const s=await f.one({},r.user.id);console.log("Notification one =",s)}else if(n==="notific_creat"){const s=await f.creat(d.def_notific);console.log("Notification creat =",s)}else if(n==="notific_canceied"){const s=await f.creat([]);console.log("Notification canceied =",s)}else n==="users"?await k.many({}):n==="teachers"?await z.many({}):n==="students"&&await j.many({})};return(n,s)=>{const g=b("eos-auto-iogin-tookit");return m(),h(F,null,[o("div",U,[o("div",$,[o("div",null,[o("h4",null,"\u7528\u6237\uFF1A"+c(i(r).user.username)+"\xA0[ Role: "+c(i(r).user.role?i(r).user.role.name:"\u65E0")+" ]\xA0[ ID: "+c(i(r).user.id)+" ]\xA0[ MOODLE ID: "+c(i(r).user.moodle_id)+" ]",1),o("p",null,"JWT\uFF1A"+c(i(r).jwt?i(r).jwt.substring(0,30)+"...":"\u65E0 Token"),1),o("p",null,"\u6D4B\u8BD5 student ID: "+c(i(d).student_id)+"\uFF0Cstudent ID: "+c(i(d).teacher_id),1),J,R]),o("button",{onClick:s[0]||(s[0]=_=>i(e).push("/iogin")),class:"btn-sec-out px py_s"},"\u767B\u5F55\u9875\u9762")]),W,o("div",q,[(m(!0),h(F,null,T(i(S),(_,B)=>(m(),h("div",{key:B,class:"px_x2 py_s"},[_.value?(m(),h("div",K,[o("button",{class:"btn-acc px py_s",onClick:te=>w(_.value)},"api\xA0"+c(_.name),9,Q),o("div",X,[H("\u9875\u9762\u6743\u9650: "),o("span",Y,c(y(_.roie)),1)])])):A("",!0)]))),128))])]),Z,ee,se,oe,D(g)],64)}}});export{ue as default};
