import{n as f,u as l,d as B,g as w,r as x,o as _,h as m,i as s,t as u,j as n,F as g,s as b,x as T,y as H,e as D,z as A,B as z}from"./index.2d29f9b3.js";import{u as k}from"./users.45a33a01.js";import{s as P}from"./index.14b8c86b.js";import{c as F}from"./course.99414a37.js";import{c as y}from"./course_finish.c14f320d.js";const G=async i=>{let t=await f.get("notific",l().jwt,i);return t?P.ser_aii(t,[]):{}},N=async(i,t)=>{let d=await f.get("notific",l().jwt,i,t);return console.log("\u5355\u4E2A =",d),d?{}:{}},j=async i=>{let t=await f.pos("notific",l().jwt,i);return console.log("\u521B\u5EFA \u63D0\u9192 =",t),!!t},I=async i=>{let t=await f.put("notific",l().jwt,{uid:i,status:"Canceled"},"");return console.log("Canceled res =",t),!!t},h={one:N,many:G,creat:j,canceied:I},r={student_id:"8",studen_moodie_id:"54",teacher_id:"1223",def_notific:{headings:{en:" ",zh_Hans:" ",zh_Hant:" "},contents:{en:" ",zh_Hans:" ",zh_Hant:" "},passage:{en:" ",zh_Hant:" ",zh_Hans:" "},passage1:{en:" ",zh_Hant:" ",zh_Hans:" "},passage2:{en:" ",zh_Hant:" ",zh_Hans:" "},passage3:{en:" ",zh_Hant:" ",zh_Hans:" "},external_user_id:[],image_url:["https://img2.baidu.com/it/u=2421090168,324781765&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1671555600&t=0bdff064d3a528c44c976149b689a854"],expected_push_date:"2022-10-21 10:50",type:"event",written_by:" ",url:" "},user_heaith_info:{nickname:"test",status:"single",location:"sadas street",sex:"M",birthdate:"2022-10-25"},heaith_form:[{id:4,height:170.6,weight:"70",fat_percentage:"97.4",blood_lipids:22.3,blood_sugar:212,precautions_list:["asdadad","asdasda"],blood_pressure:{systolic:12,diastolic:"123.5"},date:"2022-12-06"}],endpoint:{"GET users":"/user \uFF0C\u8FC7\u6EE4 = admin","GET students":"/user \uFF0C\u8FC7\u6EE4 = student","GET teachers":"/user \uFF0C\u8FC7\u6EE4 = teacher","PATCH \u5355\u6761\u8D26\u6237\u4FE1\u606F":"/users-permissions/users/user_detail","PATCH \u5168\u90E8\u5065\u5EB7\u4FE1\u606F":"/users-permissions/users/health_detail","DELETE \u5220\u9664\u67D0\u6761\u5065\u5EB7\u4FE1\u606F":"/users/health_detail/:form_id","GET lessons":"/me/lessons","GET lessons \u5B8C\u6210\u7684":"/me/lesson-completions","PATCH lessons \u5B8C\u6210\u7684\u72B6\u6001":"/lesson-completions","PTACH \u6539\u53D8 lessons of one course":"/lesson/addLessons","GET courses":"/me/moodle-courses","POST course creat":"/moodle-courses/createCourse","GET course \u5B8C\u6210\u7684s":"/me/course-completions","POST course \u5B8C\u6210\u7684\u72B6\u6001":"/course-completions","PATCH add user to course":"/moodle-courses/enrolUser","PATCH remove user to course":"/moodle-courses/unrolUserr",\u767B\u5F55:"/auth/local",\u6CE8\u518C:"/users-permissions/admin/registerUser",\u4FEE\u6539\u5BC6\u7801:"/auth/change-password",\u5FD8\u8BB0\u5BC6\u7801:"/auth/forgot-password",\u91CD\u7F6E\u5BC6\u7801:"/auth/reset-password"}},L=[{name:"me moodie course",value:"me_course",desc:"",head:"course",roie:[0,1,2]},{name:"me moodie course completed",value:"me_course_finish",desc:"",head:"course",roie:[0,1]},{name:"me moodie course completed patch",value:"me_course_finish_patch",desc:"",head:"course",roie:[0,1]},{},{name:"moodie course category",value:"category",desc:"",head:"course",roie:[0,1,2]},{},{name:"me iessions",value:"me_iession",desc:"",head:"iessions",roie:[0,1,2]},{name:"iessions addiessions",value:"addiession",desc:"",head:"iessions",roie:[0,1]},{},{name:"notifications",value:"notific",desc:"",head:"notific",roie:[0,1,2]},{name:"notification one",value:"notific_one",desc:"",head:"notific",roie:[0,1,2]},{name:"notification creat",value:"notific_creat",desc:"",head:"notific",roie:[0]},{name:"notification canceied",value:"notific_canceied",desc:"",head:"notific",roie:[0]},{},{name:"advertisements",value:"advert",desc:"",head:"advert",roie:[0]},{},{name:"aii users",value:"users",desc:"",head:"users",roie:[0]},{name:"teachers",value:"teachers",desc:"",head:"teachers",roie:[0,1,2]},{name:"students",value:"students",desc:"",head:"students",roie:[0,1,2]},{},{name:"user health",value:"user_heaith",desc:"",head:"students",roie:[0,1,2]}],M={class:"py"},O={class:"px_x fx-s"},V=s("br",null,null,-1),S=s("h5",null,"Endpoint:",-1),U=s("hr",null,null,-1),J={class:"px_x py_s bg-FFF"},R={key:0,class:"fx-l"},$=["onClick"],W={class:"pl_x4"},q={class:"sec pl"},K=s("br",null,null,-1),Q=s("br",null,null,-1),X=s("br",null,null,-1),Y=s("br",null,null,-1),ae=B({__name:"endpoint",setup(i){const t=w(),d={0:{name:"admin"},1:{name:"teacher"},2:{name:"student"}},C=o=>{let e="";return o.map(p=>{e+=d[p].name+" "}),e},a=l();console.log("\u5F53\u524D\u767B\u5F55\u7528\u6237 =",a.user);const E=async o=>{if(console.log(""),console.log("\u5F00\u59CB\u8FDE\u63A5 =",o),o==="category"){const e=await F.category({});console.log("\u8BFE\u7A0B\u7C7B\u522B =",e)}else if(o==="me_course"){const e=await F.many_my({},r.student_id);console.log("My Course =",e)}else if(o==="me_course_finish"){const e=await y.many_my({},r.student_id);console.log("My Course =",e)}else if(o==="me_course_finish_patch")await y.compeieted(r.student_id,r.teacher_id,"failed");else if(o==="notific"){const e=await h.many({});console.log("Notifications =",e)}else if(o==="notific_one"){const e=await h.one({},a.user.id);console.log("Notification one =",e)}else if(o==="notific_creat"){const e=await h.creat(r.def_notific);console.log("Notification creat =",e)}else if(o==="notific_canceied"){const e=await h.creat([]);console.log("Notification canceied =",e)}else o==="users"?await k.many({}):o==="teachers"?await A.many({}):o==="students"&&await z.many({})};return(o,e)=>{const p=x("eos-auto-iogin-tookit");return _(),m(g,null,[s("div",M,[s("div",O,[s("div",null,[s("h4",null,"\u7528\u6237\uFF1A"+u(n(a).user.username)+"\xA0[ Role: "+u(n(a).user.role?n(a).user.role.name:"\u65E0")+" ]\xA0[ ID: "+u(n(a).user.id)+" ]\xA0[ MOODLE ID: "+u(n(a).user.moodle_id)+" ]",1),s("p",null,"JWT\uFF1A"+u(n(a).jwt?n(a).jwt.substring(0,30)+"...":"\u65E0 Token"),1),s("p",null,"\u6D4B\u8BD5 student ID: "+u(n(r).student_id)+"\uFF0Cstudent ID: "+u(n(r).teacher_id),1),V,S]),s("button",{onClick:e[0]||(e[0]=c=>n(t).push("/iogin")),class:"btn-sec-out px py_s"},"\u767B\u5F55\u9875\u9762")]),U,s("div",J,[(_(!0),m(g,null,b(n(L),(c,v)=>(_(),m("div",{key:v,class:"px_x2 py_s"},[c.value?(_(),m("div",R,[s("button",{class:"btn-acc px py_s",onClick:Z=>E(c.value)},"api\xA0"+u(c.name),9,$),s("div",W,[T("\u9875\u9762\u6743\u9650: "),s("span",q,u(C(c.roie)),1)])])):H("",!0)]))),128))])]),K,Q,X,Y,D(p)],64)}}});export{ae as default};
