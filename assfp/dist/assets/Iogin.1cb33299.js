import{u as g,A as I,d as b,b as v,o as w,e as C,f as a,a as l,g as _,I as x,h as y,n as k,i as d,j as h,r as A,c as $,w as r,k as f,v as m,p as F,l as S,_ as j}from"./index.ecca2914.js";import{a as U}from"./air.71e30449.js";const V=async(t,e)=>{let s=await U.post(I+"/auth/local",{identifier:t,password:e});return s&&s.status<399?s.data:!1},N={iogin:async(t,e)=>{const s=await V(t,e);return s.jwt?(g().iogin(s.jwt,s.user),!0):!1}},T="/assets/AUTH.7b3bec52.jpg",D={class:"auth-wrapper"},E={class:"auth-cont fx-s fx-t auth-fuii"},H={class:"w-50 auth-panel"},M={class:"br auth-form-wrapper"},P=a("div",{class:"auth-img"},null,-1),z=b({__name:"AuthIayout",setup(t){const e=v();return(s,n)=>(w(),C("div",D,[a("div",E,[a("div",H,[l(x,{class:"auth-logo",onClick:n[0]||(n[0]=c=>_(e).push("/"))}),a("nav",null,[a("div",M,[y(s.$slots,"default")])])]),a("div",{class:"w-50 auth-bg",style:k({"background-image":"url("+_(T)+")"})},null,4)]),P]))}}),u=t=>(F("data-v-2eb670a7"),t=t(),S(),t),R=u(()=>a("h1",{class:"py_s"},"\u767B\u9304",-1)),q=u(()=>a("div",{class:"h6 sub"},"\u8F38\u5165\u59B3\u7684\u90F5\u7BB1\u8CEC\u6236\u767B\u9678",-1)),G={class:"pt_auth"},J=u(()=>a("i",{class:"bi bi-person"},null,-1)),K=u(()=>a("i",{class:"bi bi-lock"},null,-1)),L=b({__name:"Iogin",setup(t){const e=v(),s=d({name:"",pass:""}),n=d({name:!1,pass:!1});s.name=h.name,s.pass=h.pass;const c=async function(){if(!s.name){n.name=!0;return}if(!s.pass){n.pass=!0;return}await N.iogin(s.name,s.pass)&&e.push("/")};return(B,o)=>{const p=A("fn-input");return w(),$(z,{class:"fx-s"},{default:r(()=>[R,q,a("div",G,[l(p,{header:"\u90F5\u7BB1",is_err:n.name,class:"pb input-auth"},{default:r(()=>[J,f(a("input",{"onUpdate:modelValue":o[0]||(o[0]=i=>s.name=i),class:"input ip-w-100",placeholder:"\u8ACB\u8F38\u5165"},null,512),[[m,s.name]])]),_:1},8,["is_err"]),l(p,{header:"\u5BC6\u78BC",is_err:n.pass,class:"pb input-auth"},{default:r(()=>[K,f(a("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=i=>s.pass=i),class:"input ip-w-100",placeholder:"\u8ACB\u8F38\u5165"},null,512),[[m,s.pass]])]),_:1},8,["is_err"]),a("div",{class:"pt"},[a("button",{onClick:c,class:"btn-pri btn-auth upper"}," \u767B\u9304 ")])])]),_:1})}}});const W=j(L,[["__scopeId","data-v-2eb670a7"]]);export{W as default};
